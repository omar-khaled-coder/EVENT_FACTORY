<p style="color: green"><%= notice %></p>

<%= render @space %>

<%= debug @space.latitude %>
<%= debug @space.longitude %>
<div class="field">
  <label for="start_time">Start Time</label>
  <select id="start_time" name="start_time">
    <% generate_time_options(@space.available_from, @space.available_to).each do |time| %>
      <option value="<%= time.strftime("%H:%M") %>"><%= time.strftime("%I:%M %p") %></option>
    <% end %>
  </select>
</div>

<div class="field">
  <label for="end_time">End Time</label>
  <select id="end_time" name="end_time">
    <% generate_time_options(@space.available_from, @space.available_to).each do |time| %>
      <option value="<%= time.strftime("%H:%M") %>"><%= time.strftime("%I:%M %p") %></option>
    <% end %>
  </select>
</div>

  <%= month_calendar do |date| %>
    <% if @space.start_date <= date && @space.end_date >= date && date >= Date.today %>
      <%= link_to date.day, "select_date_path(date: date, space_id: @space.id)", class: 'available-day' %>
    <% else %>
      <span><%= date.day %></span>
    <% end %>
  <% end %>
</div>


<div id="map_show"
  data-controller="map"
         data-map-marker-value="<%= @marker.to_json %>"
  data-map-api-key-value="<%= ENV['GOOGLE_API_BROWSER_KEY'] %>"
  style="width: 100%; height: 400px;">
</div>

<div>
  <%= link_to "Edit this space", edit_space_path(@space) %> |
  <%= link_to "Back to spaces", spaces_path %>

  <%= button_to "Destroy this space", @space, method: :delete %>
</div>
